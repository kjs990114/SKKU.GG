<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <title>first page</title>
    <link rel="stylesheet" href="./css/style.css">

    <script src="https://kit.fontawesome.com/689ad4cbd5.js" crossorigin="anonymous"></script>
</head>

<body>


    <div class="login-box">
        <div class="page-header">
            <img id="emblem" src="./css/img/emblem.png" width="13%" height="13%">
            <div>
                <div class="logo-1">SKKU.GG</div>
                <div class="logo-2">성균관대학교</div>
            </div>
        </div>
        <div>
            <div class="text-box">
                <i class="fa-regular fa-user"></i>
                <input type="text" class="input-box" id="get_name" placeholder="이름을 입력하세요." required>
            </div>
            <div class="text-box">
                <i class="fa-regular fa-circle-user"></i>
                <input type="text" class="input-box" id="get_nick" placeholder="소환사명을 입력하세요." required>
            </div>
            <div class="text-box">
                <i class="fa-regular fa-id-card"></i>
                <input type="text" class="input-box" id="get_id" placeholder="학번을 입력하세요." required>
            </div>
            <div class="text-box">
                <i class="fa-solid fa-building-user"></i>
                <input type="text" class="input-box" id="get_depart" placeholder="학과를 입력하세요." required>
            </div>
            <div>
                <button id="login-btn">로그인</button>
            </div>
        </div>

    </div>
    <script>
        document.getElementById("login-btn").addEventListener("click", () => {
            let name = document.getElementById("get_name").value;
            let nickname = document.getElementById("get_nick").value;
            let id = document.getElementById("get_id").value;
            let depart = document.getElementById("get_depart").value;
            console.log(JSON.stringify({ name, nickname, id, depart }));
            fetch("/connect", {
                method: "POST",
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ name, nickname, id, depart })
            })

            location.href = "./main.html";
            window.localStorage.setItem("name", name);
            window.localStorage.setItem("nickname", nickname);
            window.localStorage.setItem("id", id);
            window.localStorage.setItem("depart", depart);

        })    
    </script>
</body>

</html>